(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"REPLY_MSG_RECEIVE",(function(){return ye})),a.d(n,"LEDGER_INPUT_OK",(function(){return Se})),a.d(n,"LEDGERINPUT_SUCCESS",(function(){return De})),a.d(n,"OBJECTION_SUCCESS",(function(){return we})),a.d(n,"CLIENT_AUDIT",(function(){return ke})),a.d(n,"VERIFY_OK",(function(){return Te})),a.d(n,"CLIENT_AUDITED",(function(){return xe})),a.d(n,"CLIENT_AUDIT_ERROR",(function(){return Pe})),a.d(n,"LEDGER_INPUT_ERROR",(function(){return je})),a.d(n,"OBJECTION_ERROR",(function(){return Re})),a.d(n,"MERKLE_PROOF_ERROR",(function(){return _e}));var r={};a.r(r),a.d(r,"SOLAR_PANEL_METER",(function(){return We})),a.d(r,"TRACKER",(function(){return Qe})),a.d(r,"IMAGE_INPUT",(function(){return Ze})),a.d(r,"OTHER",(function(){return qe})),a.d(r,"ICON_SOLAR_PANEL_METER",(function(){return $e})),a.d(r,"ICON_TRACKER",(function(){return et})),a.d(r,"ICON_IMAGE_INPUT",(function(){return tt})),a.d(r,"ICON_OTHER",(function(){return at}));var c=a(13),i=a.n(c),l=a(0),o=a.n(l),s=a(15),m=a(32),d=a(4),u=a(5),p=a(7),h=a(6),v=a(8),E=(a(28),a(81)),f=a.n(E),b=a(82),g=a.n(b),C=a(83),N=a.n(C),O=a(53),y=a.n(O),S=a(84),D=a.n(S),w=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("ul",{className:"navbar-nav sidebar bg-white accordion"},o.a.createElement(s.b,{to:"/",className:"sidebar-brand d-flex align-items-center bg-itm justify-content-center"},o.a.createElement("div",{className:"sidebar-brand-text mx-3"},o.a.createElement("img",{alt:"main",width:"100",src:y.a}))),o.a.createElement("li",{className:"nav-item active"},o.a.createElement(s.b,{to:"/",className:"nav-link"},o.a.createElement("img",{alt:"main",width:"20",src:f.a,className:"mr-1"}),o.a.createElement("span",null,"Home"))),o.a.createElement("li",{className:"nav-item active"},o.a.createElement(s.b,{to:"/deviceList",className:"nav-link"},o.a.createElement("img",{alt:"deviceList",width:"20",className:"mr-1",src:g.a}),o.a.createElement("span",null,"Device List"))),o.a.createElement("li",{className:"nav-item active"},o.a.createElement(s.b,{to:"/location",onClick:function(){return window.location.href="/location"},className:"nav-link"},o.a.createElement("img",{alt:"location",width:"20",className:"mr-1",src:N.a}),o.a.createElement("span",null,"Map"))),o.a.createElement("li",{className:"nav-item active"},o.a.createElement(s.b,{to:"/photos",onClick:function(){return window.location.href="/photos"},className:"nav-link"},o.a.createElement("img",{alt:"photos",width:"20",className:"mr-1",src:D.a}),o.a.createElement("span",null,"Photos"))))}}]),t}(o.a.Component),k=(a(108),a(86)),T=a.n(k),x=a(87),P=a.n(x),j=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-itm topbar mb-4 static-top shadow"},o.a.createElement("ul",{className:"navbar-nav ml-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("div",{className:"nav-link",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("img",{alt:"verification",src:T.a}))),o.a.createElement("li",{className:"nav-item dropdown no-arrow mx-1"},o.a.createElement("div",{className:"nav-link dropdown-toggle",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("img",{alt:"notification",src:P.a})),o.a.createElement("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"alertsDropdown"},o.a.createElement("div",{className:"dropdown-item text-center small text-gray-500"},"Show All Alerts"))),o.a.createElement("div",{className:"topbar-divider d-none d-sm-block"}),o.a.createElement("li",{className:"nav-item dropdown no-arrow"},o.a.createElement("div",{className:"nav-link dropdown-toggle",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("img",{alt:"profile",className:"img-profile rounded-circle mr-2",src:y.a}),o.a.createElement("span",{className:" d-none d-lg-inline text-gray-600 small"},"ITM Crop.")))))}}]),t}(o.a.Component),R=(a(51),a(54)),_=a.n(R),I=a(88),L=a.n(I),A=a(89),U=a.n(A),F=a(46),H=a(47),M={device:{btnClass:"btn btn-primary btn-circle btn-lg",icon:o.a.createElement("img",{width:"30",src:L.a,alt:"device"})},txCount:{btnClass:"btn btn-purple btn-circle btn-lg",icon:o.a.createElement("i",{className:"fa-x text-white"}," ",o.a.createElement(F.a,{icon:H.a}))},ethereum:{btnClass:"btn btn-success btn-circle btn-lg",icon:o.a.createElement("img",{width:"15",src:_.a,alt:"ethereum"})},clearanceOrder:{btnClass:"btn btn-danger btn-circle btn-lg",icon:o.a.createElement("img",{width:"30",src:U.a,alt:"clearanceOrder"})}},B={ETHEREUM_NORMAL:{content:"Normal",description:o.a.createElement("small",{className:"text-success"},"Ethereum is in Good Status")},ETHEREUM_CONGESTION:{content:"Pending",description:o.a.createElement("small",{className:"text-warn"},"Ethereum is in Pending Status")},ETHEREUM_BLOCK:{content:"Error",description:o.a.createElement("small",{className:"text-danger"},"Ethereum is in Error Status")},ETHEREUM_ERROR:{content:"Error",description:o.a.createElement("small",{className:"text-danger"},"Ethereum is in Error Status")}};function z(e,t){return"ethereum"===e?void 0!==t?B[t]:{content:"",description:o.a.createElement("small",{className:"text-danger"},"Ethereum is in Error Status")}:"clearanceOrder"===e?function(e){return e<0||void 0===e?{content:"",description:o.a.createElement("small",{className:"text-danger"},"Clearance Status Error")}:{content:e,description:o.a.createElement("small",{className:"text-success"},"Clearance Status Normal")}}(t):"device"===e?void 0!==t?{content:t,description:o.a.createElement("small",{className:"text-success"},"100% Online")}:{content:"",description:o.a.createElement("small",{className:"text-danger"},"0% Online")}:"txCount"===e?void 0!==t?{content:t,description:o.a.createElement("small",{className:"text-danger"},"30% Used",o.a.createElement("div",null,o.a.createElement("p",{className:"text-secondary"},"Since last purchased")))}:{content:"",description:o.a.createElement("small",{className:"text-danger"},"0% Used")}:{content:"",description:""}}var G=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.type,t=z(e,this.props.content);return o.a.createElement("div",{className:"card shadow h-100 py-2"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row no-gutters align-items-center"},o.a.createElement("div",{className:"col mr-2"},o.a.createElement("div",{className:"text-xs font-weight-bold text-secondary text-uppercase mb-1"},this.props.title),o.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},t.content)),o.a.createElement("div",{className:"col-auto"},o.a.createElement("div",{className:M[e].btnClass,role:"button"},M[e].icon))),o.a.createElement("div",{className:"mt-3"},t.description)))}}]),t}(o.a.Component),V=a(39),K=a.n(V);function J(e){return e<10?"0"+e:e}function Y(e){var t=new Date;return t.setTime(e),t.getFullYear()+"-"+J(t.getMonth()+1)+"-"+J(t.getDate())+" "+J(t.getHours())+":"+J(t.getMinutes())+":"+J(t.getSeconds())}var X={tooltips:{displayColors:!0,mode:"label"},scales:{xAxes:[{stacked:!0,gridLines:{display:!1}}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0,min:0},type:"linear"}]},responsive:!0,maintainAspectRatio:!1,legend:{position:"bottom"}},W=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).canvasRef=o.a.createRef(),a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props.dataSource;this.chartData={labels:[],auditedData:[],pendingData:[],errorData:[]},t.forEach((function(t){e.chartData.labels.push(function(e){var t=new Date;return t.setTime(e),J(t.getHours())+":00"}(t.toTimestamp));var a=t.statusCounts,n=a.CLIENT_AUDIT,r=a.REPLY_MSG_RECEIVE+a.REPLY_MSG_RECEIVE_TX_COUNT_WARN,c=a.LEDGER_INPUT_ERROR+a.CLIENT_AUDIT_ERROR+a.OBJECTION_SUCCESS+a.OBJECTION_ERROR+a.TX_COUNT_EXCEED;e.chartData.auditedData.push(n),e.chartData.pendingData.push(r),e.chartData.errorData.push(c)})),this.myChart.data.labels=this.chartData.labels,this.myChart.data.datasets[0].data=this.chartData.auditedData,this.myChart.data.datasets[1].data=this.chartData.errorData,this.myChart.data.datasets[2].data=this.chartData.pendingData,this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new K.a(this.canvasRef.current,{type:"bar",data:{labels:[],datasets:[{label:"Audited",backgroundColor:"#77C95F",data:[]},{label:"Error",backgroundColor:"#FF5757",data:[]},{label:"Not yet audited",backgroundColor:"#939290",data:[]}]},options:X})}},{key:"render",value:function(){return o.a.createElement("canvas",{ref:this.canvasRef})}}]),t}(o.a.Component),Q=a(10),Z=a(14),q=a.n(Z),$=a(27),ee=a(90),te=a.n(ee).a.create({baseURL:""}),ae=a(33),ne=a.n(ae),re=function(){return function(){var e=Object($.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/device/profiles");case 2:a=e.sent,t({type:"FETCH_All_DEVICE_LIST",deviceList:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36e5,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!e)return null;var r=Math.round((new Date).getTime()),c={deviceId:e,duration:t=t||t,fromTimestamp:a=a||r-432e5,toTimestamp:n=n||r};return function(){var e=Object($.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/chart/deviceStatus",c);case 2:a=e.sent,t({type:"FETCH_ALL_CHART_DEVICE_STATUS",deviceStatus:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ie=function(e){var t={category:(e=Object(Q.a)({},e,{updateTime:ne()().valueOf()})).category,deviceId:e.id,deviceName:e.name,hardwareType:e.hardwareType,status:e.status};return(function(){var a=Object($.a)(q.a.mark((function a(n){return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,te.post("/device/profile/edit",t);case 2:n({type:"UPDATE_PROFILE",payload:e});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},le=function(e){var t={filterOptions:[],page:e.page||0,pageSize:e.pageSize||10};if(e.fromTimestamp&&e.toTimestamp){var a=e.fromTimestamp.valueOf(),n=e.toTimestamp.valueOf();t.filterOptions.push({columnName:"timestamp",operator:"BETWEEN",value1:a.toString(),value2:n.toString()})}e.deviceId&&t.filterOptions.push({columnName:"deviceId",operator:"EQUAL",value1:e.deviceId,value2:null}),console.log("filterOptions",t),console.log("filterOptions String",JSON.stringify(t));return function(){var a=Object($.a)(q.a.mark((function a(n){var r;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,te.post("/device/data/deviceDataPage",t);case 2:r=a.sent,console.log("GetDeviceData Response",r),n({type:"FETCH_DEVICE_TABLE_DATA",payload:Object(Q.a)({},r.data,{currentPage:e.page})});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},oe=a(30),se={tooltips:{enabled:!0,displayColors:!0,mode:"nearest",intersect:!1},responsive:!0,maintainAspectRatio:!1},me=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).canvasRef=o.a.createRef(),a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.myChart.data.datasets[0].data=this.props.pieChartData,this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new K.a(this.canvasRef.current,{type:"pie",data:{labels:["SolarPanel","Tracker","IMAGE_INPUT","Other"],datasets:[{data:this.props.pieChartData,backgroundColor:["#5B9FE1","#BC8AE2","#77C95F","#FF5757"]}]},options:se})}},{key:"render",value:function(){return o.a.createElement("canvas",{ref:this.canvasRef})}}]),t}(o.a.Component),de=a(68),ue=a.n(de),pe=(a(139),a(26)),he=a(143),ve=a(144),Ee=a(60),fe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={fromTimestamp:a.props.options.fromTimestamp,toTimestamp:a.props.options.toTimestamp,deviceId:a.props.options.deviceId,pageSize:a.props.options.pageSize,errorShow:!1},a.onStartDateTimeChange=function(e){var t=Object(Q.a)({},a.state,{fromTimestamp:e});a.setState({fromTimestamp:e}),a.props.onChange(t),console.log("value",e)},a.onEndDateTimeChange=function(e){var t=Object(Q.a)({},a.state,{toTimestamp:e});a.setState({toTimestamp:e}),a.props.onChange(t)},a.onSearchClick=function(){a.state.toTimestamp-a.state.fromTimestamp<0&&(console.log("here"),a.showError()),console.log("there"),a.props.onSearchClick(a.state)},a.closeError=function(){return a.setErrorShow(!1)},a.showError=function(){return a.setErrorShow(!0)},a.setErrorShow=function(e){a.setState({errorShow:e})},a.onPageSizeSelect=function(e,t){console.log(e),console.log(t),a.setState({pageSize:e}),a.props.onPageSizeChange(e)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"renderModalAlert",value:function(){return o.a.createElement(pe.a,{show:this.state.errorShow,onHide:this.closeError,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(pe.a.Header,{closeButton:!0},o.a.createElement(pe.a.Title,{id:"contained-modal-title-vcenter"},o.a.createElement("div",{className:""},"Error"))),o.a.createElement(pe.a.Body,null,o.a.createElement("h4",null,"The following errors occurred:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Start time can not be after end time"))),o.a.createElement(pe.a.Footer,null,o.a.createElement("button",{className:"btn btn-error",onClick:this.closeError},"Close")))}},{key:"renderAlert",value:function(){return o.a.createElement("div",null,o.a.createElement(he.a,{variant:"danger",show:this.state.errorShow,onClose:this.closeError,dismissible:!0},o.a.createElement(he.a.Heading,null,"Oh snap! You got the following error!"),o.a.createElement("ul",null,o.a.createElement("li",null,"Start time can not be after end time"))))}},{key:"renderPageSelect",value:function(){var e=this;return o.a.createElement(ve.a,{id:"dropdown-basic-button",size:"m",variant:"light",title:this.state.pageSize},[10,20,50,100].map((function(t){return e.renderPageSelectItem(t)})))}},{key:"renderPageSelectItem",value:function(e){return this.state.pageSize===e?o.a.createElement(Ee.a.Item,{key:e,eventKey:e,active:!0},e):o.a.createElement(Ee.a.Item,{key:e,eventKey:e,onSelect:this.onPageSizeSelect},e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},"Start time"),o.a.createElement("div",{className:"col-4"},"End time"),o.a.createElement("div",{className:"col-4"})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},o.a.createElement(ue.a,{closeOnSelect:!0,onChange:this.onStartDateTimeChange,value:this.state.fromTimestamp})),o.a.createElement("div",{className:"col-4"},o.a.createElement(ue.a,{closeOnSelect:!0,onChange:this.onEndDateTimeChange,value:this.state.toTimestamp})),o.a.createElement("div",{className:"col-4"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.onSearchClick},"Search"))))),o.a.createElement("div",{className:"col-6"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"}),o.a.createElement("div",{className:"col-4"}),o.a.createElement("div",{className:"col-4"},"Items Per Page")),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"}),o.a.createElement("div",{className:"col-4"}),o.a.createElement("div",{className:"col-4"},this.renderPageSelect()))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"container-fluid error-alert"},this.renderAlert())))}}]),t}(l.Component),be=a(146),ge=a(145),Ce={statusCode:"Pending",statusClass:"btn btn-pending btn-circle btn-sm",btnEthereumClass:"hidden"},Ne={statusCode:"Error",statusClass:"btn btn-error btn-circle btn-sm",btnEthereumClass:"hidden"},Oe={statusCode:"Audited",statusClass:"btn btn-audit btn-circle btn-sm"},ye=Object(Q.a)({},Ce,{description:"REPLY_MSG_RECEIVE"}),Se=Object(Q.a)({},Ce,{description:"LEDGER_INPUT_OK"}),De=Object(Q.a)({},Ce,{description:"LEDGERINPUT_SUCCESS"}),we=Object(Q.a)({},Ce,{description:"OBJECTION_SUCCESS"}),ke=Object(Q.a)({},Oe,{description:"CLIENT_AUDIT"}),Te=Object(Q.a)({},Oe,{description:"VERIFY_OK"}),xe=Object(Q.a)({},Oe,{description:"CLIENT_AUDITED"}),Pe=Object(Q.a)({},Ne,{description:"CLIENT_AUDIT_ERROR"}),je=Object(Q.a)({},Ne,{description:"LEDGER_INPUT_ERROR"}),Re=Object(Q.a)({},Ne,{description:"OBJECTION_ERROR"}),_e=Object(Q.a)({},Ne,{description:"MERKLE_PROOF_ERROR"}),Ie=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"renderHeader",value:function(){return o.a.createElement("tr",null,o.a.createElement("th",{scope:"col",className:"w-25"},"Device ID"),o.a.createElement("th",{scope:"col"},"Time"),o.a.createElement("th",{scope:"col"},"CMD"),o.a.createElement("th",{scope:"col"},"CO"),o.a.createElement("th",{scope:"col"},"Status"),o.a.createElement("th",{scope:"col"},"On-Chain Proof"),o.a.createElement("th",{scope:"col"},"Off-Chain Proof"))}},{key:"renderRows",value:function(){var e=this;return this.props.data?this.props.data.map((function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",{className:"text-left"},t.deviceId),o.a.createElement("td",null,Y(t.timestamp)),o.a.createElement("td",null,e.rendercmd(t)),o.a.createElement("td",null,o.a.createElement("span",null,t.clearanceOrder)),o.a.createElement("td",null,e.renderStatus(t)),o.a.createElement("td",null,e.renderOnChainProof(t)),o.a.createElement("td",null,e.renderOffChainProof(t)))})):null}},{key:"renderStatus",value:function(e){var t=n[e.status];return"Error"!==t.statusCode?o.a.createElement("div",{className:t.statusClass}," "):o.a.createElement(be.a,{key:e.id,placement:"right",overlay:o.a.createElement(ge.a,{id:"tooltip-".concat("right")},t.description)},o.a.createElement("div",{className:t.statusClass}," "))}},{key:"renderOffChainProof",value:function(e){var t=n[e.status];return o.a.createElement("span",{className:t.btnEthereumClass},o.a.createElement("a",{className:"btn btn-dark btn-circle",href:"/verificationProof/".concat(e.clearanceOrder,"/").concat(e.indexValue),role:"button"},o.a.createElement(F.a,{icon:H.b})))}},{key:"renderOnChainProof",value:function(e){var t=n[e.status];return o.a.createElement("span",{className:t.btnEthereumClass},o.a.createElement("a",{className:"btn btn-dark btn-circle",href:"/etherscan/".concat(e.clearanceOrder),role:"button"},o.a.createElement("img",{alt:"eth",width:"15",src:_.a})))}},{key:"rendercmd",value:function(e){return o.a.createElement(be.a,{key:e.id,placement:"right",overlay:o.a.createElement(ge.a,{id:"tooltip-".concat("right")},e.cmd)},o.a.createElement("button",{className:"btn btn-dark btn-circle"},o.a.createElement(F.a,{icon:H.c})))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("table",{className:"table table-hover text-center table-striped table-light"},o.a.createElement("thead",null,this.renderHeader()),o.a.createElement("tbody",null,this.renderRows())))}}]),t}(l.Component),Le=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onPagingClicked=function(e){a.props.onPagingClicked(parseInt(e.target.value)-1)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"renderPagingButtons",value:function(e,t,a,n){var r="btn ".concat(parseInt(this.props.currentPage)+1===parseInt(a)?"btn-primary":"btn-outline-primary"," rounded-circle");return o.a.createElement("li",{className:"page-item ml-2",key:e},o.a.createElement("button",{className:r,"aria-label":"Previous",onClick:this.onPagingClicked,disabled:!n,value:a},t))}},{key:"renderPageFooters",value:function(){if(console.log("DeviceDataTableFooter renderPageFooters",this.props),void 0===this.props.currentPage||0===this.props.totalPage)return null;var e=parseInt(this.props.currentPage)+1,t=Math.min(this.props.totalPage,this.props.displayPageCount),a=parseInt(this.props.totalPage),n=Math.floor(t/2),r=1;e>n+1&&(r=e-n),a-e<n&&(r=a-t+1);var c=r+t,i=[];i.push(this.renderPagingButtons("first","<<",1,e>1)),i.push(this.renderPagingButtons("prev","<",e-1,e>1));for(var l=r;l<c;l++)i.push(this.renderPagingButtons(l,l,l,!0));return i.push(this.renderPagingButtons("next",">",e+1,e<a)),i.push(this.renderPagingButtons("last",">>",a,e<a)),i}},{key:"render",value:function(){return o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-3"},o.a.createElement("nav",{"aria-label":"Page navigation"},o.a.createElement("ul",{className:"pagination"},this.renderPageFooters()))))}}]),t}(l.Component),Ae=(a(140),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={tableOptions:{deviceId:a.props.deviceId,fromTimestamp:null,page:0,pageSize:10,toTimestamp:null},pageSize:10,currentPage:0,startClearanceOrder:0,endClearanceOrder:0,deviceIds:[]},a.onHeaderChange=function(e){a.setState(Object(Q.a)({},a.state.tableOptions,{},e))},a.onSearchClick=function(e){var t=Object(Q.a)({},a.state.tableOptions,{},e,{page:0});a.setState({tableOptions:t}),a.props.onSearchClick(t)},a.onPagingClicked=function(e){var t=Object(Q.a)({},a.state.tableOptions,{page:e});a.setState({tableOptions:t}),a.props.onPagingClick(t)},a.onPageSizeChange=function(e){var t=Object(Q.a)({},a.state.tableOptions,{pageSize:e,page:0});a.setState({tableOptions:t}),a.props.onPageSizeChange(t)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"renderFooter",value:function(){if(!this.props.displayFooter)return null;console.log("DeviceDataTable renderFooter props",this.props);var e=this.props.currentPage,t=this.props.totalPageCount,a=this.props.displayPageCount;return o.a.createElement(Le,{currentPage:e,totalPage:t,displayPageCount:a,onPagingClicked:this.onPagingClicked})}},{key:"renderHeader",value:function(){return this.props.displayFilter?o.a.createElement(fe,{options:this.state.tableOptions,onChange:this.onHeaderChange,onSearchClick:this.onSearchClick,onPageSizeChange:this.onPageSizeChange}):null}},{key:"deviceNames",value:function(){return this.props.deviceDataList&&this.props.deviceDataList.map((function(e){return e.deviceId})),[]}},{key:"render",value:function(){return o.a.createElement("div",{className:"deviceDataTable"},o.a.createElement("div",{className:"deviceDataTableHeader"},this.renderHeader()),o.a.createElement("div",{className:"deviceDataTableBody"},o.a.createElement(Ie,{data:this.props.deviceDataList})),o.a.createElement("div",{className:"deviceDataTableFooter"},this.renderFooter()))}}]),t}(o.a.Component)),Ue=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onSearchClick=function(e){a.props.GetDeviceData(e)},a.onPagingClick=function(e){a.props.GetDeviceData(e)},a.onPageSizeChange=function(e){a.props.GetDeviceData(e)},a.state={dataTableOption:{currentPage:0,pageCount:0,pageSize:10},barChartOption:{fromTimestamp:null,toTimestamp:null,duration:36e5}},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"renderStatusRow",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},o.a.createElement(G,{type:"device",title:"Total Device Number",content:this.props.status.deviceCount})),o.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},o.a.createElement(G,{type:"txCount",title:"Tx Count Left",content:this.props.status.txCount})),o.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},o.a.createElement(G,{type:"ethereum",title:"Ethereum Status",content:this.props.status.ethereumStatus})),o.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},o.a.createElement(G,{type:"clearanceOrder",title:"Clearance Order",content:this.props.status.clearanceOrder})))}},{key:"renderChartCard",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"card shadow mb-4"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-6 col-sm-6 col-md-6"},o.a.createElement("h4",{className:"m-0 text-black"},"Data Summary")),o.a.createElement("div",{className:"col-lg-6 col-sm-6 col-md-6 "},o.a.createElement("div",{className:"dropdown text-right"},o.a.createElement(ve.a,{id:"dropdown-basic-button",size:"m",variant:"outline-secondary",title:"Last 12 hours"},o.a.createElement(Ee.a.Item,{key:0,eventKey:0,active:!0},"Last 12 hours")))))),o.a.createElement("div",{className:"chart-index-bar mt-3"},o.a.createElement(W,{dataSource:this.props.chartDeviceStatus})))))}},{key:"renderPieChart",value:function(){var e,t=function(e){var t=[0,0,0,0];return e.forEach((function(e){var a=e.device.category;"SOLAR_PANEL_METER"===a?t[0]+=1:"TRACKER"===a?t[1]+=1:"IMAGE_INPUT"===a?t[2]+=1:t[3]+=1})),t=[t[0]/e.length*100,t[1]/e.length*100,t[2]/e.length*100,t[3]/e.length*100]}(this.props.device),a=!1;return t.forEach((function(e){a=e>0})),e=a?o.a.createElement(me,{pieChartData:t}):o.a.createElement("h1",null,"No Data Display"),o.a.createElement("div",null,o.a.createElement("div",{className:"card shadow mb-4"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"col-12 text-center mb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("h4",{className:"m-0 text-black"},"Device Data Distribution by Category"))),o.a.createElement("div",{className:"chart-area justify-content-center align-items-center"},e))))}},{key:"componentDidMount",value:function(){this.props.fetchAllChartDeviceStatus("ALL",this.state.barChartOption.duration,this.state.barChartOption.fromTimestamp,this.state.barChartOption.toTimestamp),this.props.fetchAllDeviceData(0,this.state.dataTableOption.pageSize),this.props.fetchDashboardStatus(),this.props.fetchAllDeviceListPage();this.props.GetDeviceData({deviceId:null,fromTimestamp:null,page:0,pageSize:10,toTimestamp:null})}},{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},o.a.createElement("h1",{className:"mb-0 text-white"},"Overview")),this.renderStatusRow(),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6"},this.renderChartCard()),o.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6"},this.renderPieChart())),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 col-lg-12"},o.a.createElement("h1",{className:"h3 mb-0 text-white"},"Data Status"),o.a.createElement(Ae,{displayFooter:!0,displayFilter:!0,onPagingClick:this.onPagingClick,currentPage:this.props.currentPage,deviceDataList:this.props.deviceDataList,totalPageCount:this.props.totalPageCount,displayPageCount:7,totalCount:this.props.totalCount,onSearchClick:this.onSearchClick,onPageSizeChange:this.onPageSizeChange}))))}}]),t}(o.a.Component),Fe=Object(oe.b)((function(e){return{device:e.device,status:e.dashboardStatus,chartDeviceStatus:e.chartDeviceStatus,deviceData:e.deviceData,deviceDataList:e.deviceDataTable.deviceDataList,totalCount:e.deviceDataTable.totalDataCount,totalPageCount:e.deviceDataTable.pageCount,currentPage:e.deviceDataTable.currentPage}}),{GetDeviceData:le,fetchAllChartDeviceStatus:ce,fetchAllDeviceData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(function(){var a=Object($.a)(q.a.mark((function a(n){var r;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,te.post("/device/data/homeDataPage",{page:e,pageSize:t});case 2:r=a.sent,n({type:"FETCH_ALL_DEVICE_DATA",deviceData:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},fetchDashboardStatus:function(){return function(){var e=Object($.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/status");case 2:a=e.sent,t({type:"FETCH_DASHBOARD_STATUS",status:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchAllDeviceListPage:re})(Ue),He={tooltips:{enabled:!1,displayColors:!0,mode:"nearest",intersect:!1},scales:{xAxes:[{stacked:!0,display:!1}],yAxes:[{stacked:!0}]},responsive:!0,maintainAspectRatio:!1},Me=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).canvasRef=o.a.createRef(),a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.myChart.data.datasets[0].data=this.props.auditedData,this.myChart.data.datasets[1].data=this.props.errorData,this.myChart.data.datasets[2].data=this.props.pendingData,this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new K.a(this.canvasRef.current,{type:"horizontalBar",data:{datasets:[{data:this.props.auditedData,backgroundColor:"#77C95F",label:"Audited"},{data:this.props.errorData,backgroundColor:"#FF5757",label:"Error"},{data:this.props.pendingData,backgroundColor:"#939290",label:"Not yet audited"}]},options:He})}},{key:"render",value:function(){return o.a.createElement("canvas",{ref:this.canvasRef})}}]),t}(o.a.Component),Be=a(93),ze=a.n(Be),Ge=a(94),Ve=a.n(Ge),Ke=a(95),Je=a.n(Ke),Ye=a(96),Xe=a.n(Ye),We="SOLAR_PANEL_METER",Qe="TRACKER",Ze="IMAGE_INPUT",qe="OTHER",$e=Ve.a,et=Je.a,tt=Xe.a,at=ze.a,nt=a(97),rt=a.n(nt),ct=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"bg-white card container-fluid"},o.a.createElement("div",{className:"card-body border-dark"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-4 col-lg-4 align-self-center text-center"},o.a.createElement("div",{className:"btn btn-dark btn-xl btn-circle text-light"},o.a.createElement("img",{src:r["ICON_".concat(this.props.category)],width:"40",alt:this.props.name}),o.a.createElement("i",{className:"flaticon-cpu-tower"}))),o.a.createElement("div",{className:"col-xl-8 col-lg-8"},o.a.createElement("h5",{className:"card-title"},o.a.createElement("div",{className:"text-left"},this.props.name)),o.a.createElement("p",{className:"text-dark card-text small text-left"},this.props.hardwareType)))))}}]),t}(o.a.Component),it=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={showCancel:!1,showSave:!1},a.setCancelShow=function(e){a.setState({showCancel:e})},a.handleCancelClose=function(){return a.setCancelShow(!1)},a.handleCancelShow=function(){return a.setCancelShow(!0)},a.setSaveShow=function(e){a.setState({showSave:e})},a.handleSaveClose=function(){return a.setSaveShow(!1)},a.handleSaveShow=function(){return a.setSaveShow(!0)},a.onSaveClick=function(){a.handleSaveShow()},a.onCancelClick=function(){a.handleCancelShow()},a.onCancelCancelClick=function(){a.handleCancelClose()},a.onCancelSaveClick=function(){a.handleSaveClose()},a.onConfirmCancelClick=function(){a.handleCancelClose(),a.props.onCancelClick()},a.onConfirmSaveClick=function(){a.handleSaveClose(),a.props.onSaveClick(a.props.device)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row profile-form-buttons mt-3"},o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6 text-center"},o.a.createElement("button",{type:"button",className:"btn btn-outline-primary mb-n1 btn-block",onClick:this.onCancelClick},"Cancel")),o.a.createElement("div",{className:"col-6 text-center"},o.a.createElement("button",{type:"button",className:"btn btn-primary mb-n1 btn-block",onClick:this.onSaveClick},"Save")))),o.a.createElement(pe.a,{show:this.state.showCancel,onHide:this.handleCancelClose,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(pe.a.Body,null,o.a.createElement("div",null,"Change not save, are you sure you want to leave?"),o.a.createElement(ct,this.props.device),o.a.createElement("div",{className:"container-fluid mt-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6 text-center"},o.a.createElement("button",{className:"btn btn-outline-primary btn-block mb-n1",onClick:this.onCancelCancelClick},"Cancel")),o.a.createElement("div",{className:"col-6 text-center"},o.a.createElement("button",{className:"btn btn-primary btn-block mb-n1",onClick:this.onConfirmCancelClick},"Leave")))))),o.a.createElement(pe.a,{show:this.state.showSave,onHide:this.handleSaveClose,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(pe.a.Body,null,o.a.createElement("div",null,"Are you sure you want to make the change?"),o.a.createElement(ct,this.props.device)),o.a.createElement(pe.a.Footer,null,o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6 text-center"},o.a.createElement("button",{className:"btn btn-outline-primary btn-block mb-n1",onClick:this.onCancelSaveClick},"Cancel")),o.a.createElement("div",{className:"col-6 text-center"},o.a.createElement("button",{className:"btn btn-primary btn-block mb-n1",onClick:this.onConfirmSaveClick},"Save Changes")))))))}}]),t}(l.Component),lt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={device:Object(Q.a)({},a.props.device)},a.onHardwareTypeChange=function(e){console.log("onHardwareTypeChange");var t=e.target.value;a.setState((function(e){return{device:Object(Q.a)({},e.device,{hardwareType:t})}}))},a.onNameChange=function(e){console.log("onNameChange");var t=e.target.value;a.setState((function(e){return{device:Object(Q.a)({},e.device,{name:t})}}))},a.onCategoryChange=function(e){var t=e.target.value;a.setState((function(e){return{device:Object(Q.a)({},e.device,{category:t})}}))},a.onCancelClick=function(){a.props.onCancelClick()},a.onSaveClick=function(e){a.props.onSaveClick(e)},a.onStatusChange=function(e){var t=e.target.value;a.setState((function(e){return{device:Object(Q.a)({},e.device,{status:t})}}))},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.device;return o.a.createElement("div",{className:"mt-3"},o.a.createElement("h4",{className:"text-white text-left"},"Edit Profile"),o.a.createElement("div",{className:"input-group input-group-lg mb-3 mt-3"},o.a.createElement("div",{className:"input-group-prepend profile-form-input-title"},o.a.createElement("span",{className:"input-group-text container-fluid align-self-center text-center"},"Device Name")),o.a.createElement("input",{type:"text",className:"form-control",value:e.name||"",onChange:this.onNameChange})),o.a.createElement("div",{className:"input-group input-group-lg mb-3"},o.a.createElement("div",{className:"input-group-prepend profile-form-input-title"},o.a.createElement("span",{className:"input-group-text container-fluid"},"Category")),o.a.createElement("select",{value:e.category||"",className:"form-control",onChange:this.onCategoryChange},o.a.createElement("option",{value:""}),o.a.createElement("option",{value:We},"Solar Panel Meter"),o.a.createElement("option",{value:Qe},"Tracker"),o.a.createElement("option",{value:Ze},"Image"),o.a.createElement("option",{value:qe},"Other"))),o.a.createElement("div",{className:"input-group input-group-lg mb-3"},o.a.createElement("div",{className:"input-group-prepend profile-form-input-title"},o.a.createElement("span",{className:"input-group-text container-fluid"},"Hardware Type")),o.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon3",value:e.hardwareType||"",onChange:this.onHardwareTypeChange})),o.a.createElement("div",{className:"input-group input-group-lg mb-3"},o.a.createElement("div",{className:"input-group-prepend profile-form-input-title"},o.a.createElement("span",{className:"input-group-text container-fluid"},"Status")),o.a.createElement("select",{value:e.status||"",className:"form-control",onChange:this.onStatusChange},o.a.createElement("option",{value:""}),o.a.createElement("option",{value:"ONLINE"},"ON-LINE"),o.a.createElement("option",{value:"OFFLINE"},"OFF-LINE"))),o.a.createElement(it,{device:e,onCancelClick:this.onCancelClick,onSaveClick:this.onSaveClick}))}}]),t}(l.Component),ot=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onCancelClick=function(){a.props.onCancelClicked()},a.onSaveClick=function(e){a.props.onSaveClicked(e)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"renderForm",value:function(){return o.a.createElement(lt,{device:this.props.device,onCancelClick:this.onCancelClick,onSaveClick:this.onSaveClick})}},{key:"render",value:function(){this.props.device;return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"profile-form"},o.a.createElement("div",{className:"row profile-form-title"},o.a.createElement("h4",{className:"modal-title text-left text-white mb-3",id:"exampleModalCenterTitle"},"Device Profile"),o.a.createElement(ct,this.props.device)),o.a.createElement("div",null,this.renderForm())))}}]),t}(l.Component),st=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={showProfile:!1},a.setShow=function(e){a.setState({showProfile:e})},a.handleClose=function(){return a.setShow(!1)},a.handleShow=function(){return a.setShow(!0)},a.onProfileCancelClicked=function(){a.handleClose()},a.onProfileSaveClicked=function(e){a.props.onProfileSaveClicked(e),a.handleClose()},a.onEditProfileClicked=function(){a.handleShow()},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"renderStatusBarChart",value:function(){if(!this.props.horizontalBarChartData)return null;return function(e){var t=e.auditedData,a=e.errorData,n=e.pendingData;return 0===t[0]&&0===n[0]&&0===a[0]}(this.props.horizontalBarChartData)?o.a.createElement("div",{className:"card-title p-3"},o.a.createElement("h6",null,"Status (Last 12 Hours)"),o.a.createElement("div",{className:"chart-horizontalBar"},"No data available")):o.a.createElement("div",{className:"card-title p-3"},o.a.createElement("h6",null,"Status (Last 12 Hours)"),o.a.createElement("div",{className:"chart-horizontalBar"},o.a.createElement(Me,this.props.horizontalBarChartData)))}},{key:"render",value:function(){var e=Y(this.props.device.updateTime),t="/deviceData/".concat(this.props.device.id);return o.a.createElement("div",{className:"bg-white card"},o.a.createElement("div",{className:"card-body border-bottom border-dark"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-4 col-lg-4 align-self-center text-center"},o.a.createElement(s.b,{to:t,className:"btn btn-dark btn-xl btn-circle text-light"},o.a.createElement("img",{alt:"",src:r["ICON_".concat(this.props.device.category)],width:"40",className:"categoryIcon"}))),o.a.createElement("div",{className:"col-xl-8 col-lg-8"},o.a.createElement("div",{className:"col-12 col-lg-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-9 col-lg-9 mt-2"},o.a.createElement("h5",{className:"card-title text-left"},o.a.createElement(s.b,{to:t},this.props.device.name))),o.a.createElement("div",{className:"col-xl-3 col-lg-3 text-right"},o.a.createElement("button",{className:"btn",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("img",{src:rt.a,width:"20",alt:""})),o.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},o.a.createElement("button",{type:"button",className:"btn btn-white",onClick:this.onEditProfileClicked},"Edit Profile")),o.a.createElement(pe.a,{show:this.state.showProfile,onHide:this.handleClose,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(pe.a.Body,{className:"bg-itm"},o.a.createElement(ot,{device:this.props.device,onCancelClicked:this.onProfileCancelClicked,onSaveClicked:this.onProfileSaveClicked}))))),o.a.createElement("p",{className:"text-dark card-text small"},this.props.device.hardwareType),o.a.createElement("p",null,o.a.createElement("small",null,"Last Update Time")),o.a.createElement("p",null,o.a.createElement("small",null,e)))))),this.renderStatusBarChart())}}]),t}(o.a.Component),mt=function(e){return null!=e?{auditedData:[e.CLIENT_AUDIT],pendingData:[e.REPLY_MSG_RECEIVE+e.REPLY_MSG_RECEIVE_TX_COUNT_WARN],errorData:[e.LEDGER_INPUT_ERROR+e.CLIENT_AUDIT_ERROR+e.OBJECTION_SUCCESS+e.OBJECTION_ERROR+e.TX_COUNT_EXCEED]}:{auditedData:[0],pendingData:[0],errorData:[0]}},dt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onProfileSaveClicked=function(e){a.props.UpdateProfile(e)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllDeviceListPage()}},{key:"render",value:function(){var e=this,t=this.props.deviceList;return console.log("deviceListPage render",this.props.deviceList),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"d-sm-flex align-items-center mb-4"},o.a.createElement(s.b,{to:"/",className:"text-white"},o.a.createElement("p",{className:"h2 text-white mr-1"},"Home ")),o.a.createElement("p",{className:"h2 text-white ml-1"},"> Device List ")),o.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},o.a.createElement("h2",{className:"mb-0 text-white"},"Device List")),o.a.createElement("div",{className:"row"},t.map((function(t,a){var n=mt(t.statusCounts);return o.a.createElement("div",{className:"col-xl-4 col-lg-4  mt-3",key:a},o.a.createElement(st,{key:t.device.id,device:t.device,horizontalBarChartData:n,onProfileSaveClicked:e.onProfileSaveClicked}))}))))}}]),t}(o.a.Component),ut=Object(oe.b)((function(e){return{deviceList:e.device}}),{UpdateProfile:ie,fetchAllDeviceListPage:re})(dt),pt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={barChartOption:{fromTimestamp:null,toTimestamp:null,duration:36e5}},a.onPagingClick=function(e){a.props.GetDeviceData(e)},a.onSearchClick=function(e){a.props.GetDeviceData(e)},a.onProfileSaveClicked=function(e){a.props.UpdateProfile(e)},a.onPageSizeChange=function(e){a.props.GetDeviceData(e)},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllChartDeviceStatus(this.props.match.params.deviceId,this.state.barChartOption.duration,this.state.barChartOption.fromTimestamp,this.state.barChartOption.toTimestamp),this.props.fetchAllDeviceListPage();var e={deviceId:this.props.match.params.deviceId,fromTimestamp:0,page:0,pageSize:10,toTimestamp:0};this.props.GetDeviceData(e)}},{key:"render",value:function(){var e=this,t=this.props.deviceList;return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"d-sm-flex align-items-center mb-4"},o.a.createElement(s.b,{to:"/",className:"text-white"},o.a.createElement("p",{className:"h2 text-white mr-1"},"Home ")),o.a.createElement("p",{className:"h2 text-white ml-1"},">"),o.a.createElement(s.b,{to:"/deviceList",className:"text-white"},o.a.createElement("p",{className:"h2 text-white ml-1"}," Device List ")),o.a.createElement("p",{className:"h2 text-white ml-1"},">"),o.a.createElement("p",{className:"h2 text-white ml-1"},this.props.match.params.deviceId)),o.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},o.a.createElement("h3",{className:"mb-0 text-white"},"Device Data")),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-4 col-lg-4 mb-3"},t.filter((function(t){return t.device.id===e.props.match.params.deviceId})).map((function(t){var a=mt(t.statusCounts);return o.a.createElement(st,{key:t.device.id,device:t.device,horizontalBarChartData:a,onProfileSaveClicked:e.onProfileSaveClicked})}))),o.a.createElement("div",{className:"col-xl-8 col-lg-8 mb-3"},o.a.createElement("div",{className:"card shadow mb-4"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"m-0 text-black"},"Device Data Summary"),o.a.createElement("div",{className:"chart-bar mt-4"},o.a.createElement(W,{dataSource:this.props.chartDeviceStatus}))),o.a.createElement("div",{className:"mt-3"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 col-lg-12 mt-3"},o.a.createElement(Ae,{deviceId:this.props.match.params.deviceId,displayFooter:!0,displayFilter:!0,onPagingClick:this.onPagingClick,currentPage:this.props.currentPage,deviceDataList:this.props.deviceDataList,totalPageCount:this.props.totalPageCount,displayPageCount:7,totalCount:this.props.totalCount,onSearchClick:this.onSearchClick,onPageSizeChange:this.onPageSizeChange}))))}}]),t}(o.a.Component),ht=Object(oe.b)((function(e,t){return console.log("deviceDataPage deviceList",e.device),{deviceList:e.device,chartDeviceStatus:e.chartDeviceStatus,page:e.page,deviceData:e.deviceData,deviceDataList:e.deviceDataTable.deviceDataList,totalCount:e.deviceDataTable.totalDataCount,totalPageCount:e.deviceDataTable.pageCount,currentPage:e.deviceDataTable.currentPage}}),{GetDeviceData:le,fetchAllChartDeviceStatus:ce,fetchDeviceDataByDeviceId:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(!e)return null;var c=Math.round((new Date).getTime()),i={deviceId:e,page:t,pageSize:a,fromTimestamp:n=n||c-432e5,toTimestamp:r=r||c};return function(){var e=Object($.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("/device/data/deviceDataPage",i);case 2:a=e.sent,t({type:"FETCH_ALL_DEVICE_DATA",deviceData:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},UpdateProfile:ie,fetchAllDeviceListPage:re})(pt),vt=a(34),Et=a(98);var ft=Object(vt.c)({dashboardStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DASHBOARD_STATUS":var a=t.status;return a;default:return e}},chartDeviceStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_CHART_DEVICE_STATUS":return t.deviceStatus;default:return e}},device:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_All_DEVICE_LIST":return console.log("deviceListPageReducer",t.deviceList),t.deviceList;case"UPDATE_PROFILE":return console.log("deviceList",e),e.map((function(e){return e.device.id!==t.payload.id?e:Object(Q.a)({},e,{device:Object(Q.a)({},t.payload)})}));default:return e}},deviceData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_DEVICE_DATA":return t.deviceData;default:return e}},deviceDataTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DEVICE_TABLE_DATA":return console.log("Fetch_Device_Table_Data",t.payload),t.payload;default:return e}}}),bt=Object(vt.d)(ft,Object(vt.a)(Et.a)),gt=o.a.createElement(oe.a,{store:bt},o.a.createElement(s.a,null,o.a.createElement("div",{id:"wrapper"},o.a.createElement(w,null),o.a.createElement("div",{className:"d-flex flex-column",id:"content-wrapper"},o.a.createElement("div",{className:"bg-itm",id:"content"},o.a.createElement(j,null),o.a.createElement(m.a,{path:"/",exact:!0,component:Fe}),o.a.createElement(m.a,{path:"/deviceList",exact:!0,component:ut}),o.a.createElement(m.a,{path:"/deviceData/:deviceId",component:ht}))))));i.a.render(gt,document.getElementById("root"))},28:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/ITM.776c2dd8.svg"},54:function(e,t,a){e.exports=a.p+"static/media/ethereum.90159390.svg"},81:function(e,t,a){e.exports=a.p+"static/media/home.ea40dbf1.svg"},82:function(e,t,a){e.exports=a.p+"static/media/deviceList.65684a0b.svg"},83:function(e,t,a){e.exports=a.p+"static/media/map.5fb9c0ad.svg"},84:function(e,t,a){e.exports=a.p+"static/media/photo.bc9a3195.svg"},86:function(e,t,a){e.exports=a.p+"static/media/verification.a7190984.svg"},87:function(e,t,a){e.exports=a.p+"static/media/notification.9c68896b.svg"},88:function(e,t,a){e.exports=a.p+"static/media/remoteControl.2ef5ade6.svg"},89:function(e,t,a){e.exports=a.p+"static/media/clearanceOrder.33988fdf.svg"},93:function(e,t,a){e.exports=a.p+"static/media/cpu-tower.7d86dd4c.svg"},94:function(e,t,a){e.exports=a.p+"static/media/solarpanel.d6b0c8b7.svg"},95:function(e,t,a){e.exports=a.p+"static/media/gps.33ed814a.svg"},96:function(e,t,a){e.exports=a.p+"static/media/image.aa271fa1.svg"},97:function(e,t,a){e.exports=a.p+"static/media/menu.34f3f57e.svg"},99:function(e,t,a){e.exports=a(141)}},[[99,1,2]]]);
//# sourceMappingURL=main.92b2cf04.chunk.js.map